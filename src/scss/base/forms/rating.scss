// <RATING>
// Сніппет (HTML): rating
// Rating

$star: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuOTU3MTEgNi4xMTY2TDEuNjQwNDQgNi44ODc0NEwxLjU0NjI3IDYuOTA2NkMxLjQwMzcyIDYuOTQ0NDUgMS4yNzM3NyA3LjAxOTQ0IDEuMTY5NjggNy4xMjM5NEMxLjA2NTYgNy4yMjg0MyAwLjk5MTEwOSA3LjM1ODY4IDAuOTUzODI1IDcuNTAxMzdDMC45MTY1NCA3LjY0NDA3IDAuOTE3Nzk2IDcuNzk0MTEgMC45NTc0NjMgNy45MzYxNkMwLjk5NzEzIDguMDc4MjIgMS4wNzM3OSA4LjIwNzIgMS4xNzk2MSA4LjMwOTk0TDUuMDMxMjcgMTIuMDU5MUw0LjEyMjk0IDE3LjM1NDlMNC4xMTIxMSAxNy40NDY2QzQuMTAzMzggMTcuNTk0IDQuMTMzOTkgMTcuNzQxMSA0LjIwMDgxIDE3Ljg3MjlDNC4yNjc2NCAxOC4wMDQ2IDQuMzY4MjYgMTguMTE2MiA0LjQ5MjM5IDE4LjE5NjJDNC42MTY1MSAxOC4yNzYyIDQuNzU5NjggMTguMzIxOCA0LjkwNzIzIDE4LjMyODRDNS4wNTQ3OCAxOC4zMzQ5IDUuMjAxNDEgMTguMzAyMSA1LjMzMjExIDE4LjIzMzNMMTAuMDg3MSAxNS43MzMzTDE0LjgzMTMgMTguMjMzM0wxNC45MTQ2IDE4LjI3MTZDMTUuMDUyMiAxOC4zMjU4IDE1LjIwMTYgMTguMzQyNCAxNS4zNDc3IDE4LjMxOTdDMTUuNDkzOCAxOC4yOTcxIDE1LjYzMTMgMTguMjM2IDE1Ljc0NTkgMTguMTQyN0MxNS44NjA2IDE4LjA0OTQgMTUuOTQ4NCAxNy45MjcyIDE2LjAwMDMgMTcuNzg4OEMxNi4wNTIyIDE3LjY1MDQgMTYuMDY2MyAxNy41MDA2IDE2LjA0MTMgMTcuMzU0OUwxNS4xMzIxIDEyLjA1OTFMMTguOTg1NCA4LjMwOTFMMTkuMDUwNCA4LjIzODI3QzE5LjE0MzMgOC4xMjM5MSAxOS4yMDQyIDcuOTg2OTggMTkuMjI2OSA3Ljg0MTQzQzE5LjI0OTYgNy42OTU4OCAxOS4yMzMzIDcuNTQ2OTIgMTkuMTc5NyA3LjQwOTcxQzE5LjEyNjEgNy4yNzI1MSAxOS4wMzcgNy4xNTE5NiAxOC45MjE3IDcuMDYwMzZDMTguODA2MyA2Ljk2ODc3IDE4LjY2ODcgNi45MDkzOCAxOC41MjI5IDYuODg4MjdMMTMuMjA2MyA2LjExNjZMMTAuODI5NiAxLjI5OTk0QzEwLjc2MDggMS4xNjAzOCAxMC42NTQ0IDEuMDQyODYgMTAuNTIyMyAwLjk2MDY4OUMxMC4zOTAyIDAuODc4NTE0IDEwLjIzNzcgMC44MzQ5NjEgMTAuMDgyMSAwLjgzNDk2MUM5LjkyNjUzIDAuODM0OTYxIDkuNzc0MDYgMC44Nzg1MTQgOS42NDE5NSAwLjk2MDY4OUM5LjUwOTg0IDEuMDQyODYgOS40MDMzOCAxLjE2MDM4IDkuMzM0NjEgMS4yOTk5NEw2Ljk1NzExIDYuMTE2NloiIHN0cm9rZT0iIzExNjdGQyIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K";

$starActive: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMSAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuMDMwMzUgNi4yODE2NEwxLjcxMzY4IDcuMDUyNDdMMS42MTk1MiA3LjA3MTY0QzEuNDc2OTYgNy4xMDk0OCAxLjM0NzAxIDcuMTg0NDggMS4yNDI5MyA3LjI4ODk4QzEuMTM4ODQgNy4zOTM0NyAxLjA2NDM1IDcuNTIzNzIgMS4wMjcwNyA3LjY2NjQxQzAuOTg5NzgzIDcuODA5MTEgMC45OTEwMzggNy45NTkxNSAxLjAzMDcgOC4xMDEyQzEuMDcwMzcgOC4yNDMyNiAxLjE0NzAzIDguMzcyMjQgMS4yNTI4NSA4LjQ3NDk3TDUuMTA0NTIgMTIuMjI0MUw0LjE5NjE4IDE3LjUyTDQuMTg1MzUgMTcuNjExNkM0LjE3NjYyIDE3Ljc1OTEgNC4yMDcyNCAxNy45MDYyIDQuMjc0MDYgMTguMDM3OUM0LjM0MDg4IDE4LjE2OTYgNC40NDE1IDE4LjI4MTIgNC41NjU2MyAxOC4zNjEyQzQuNjg5NzUgMTguNDQxMyA0LjgzMjkyIDE4LjQ4NjkgNC45ODA0NyAxOC40OTM0QzUuMTI4MDIgMTguNDk5OSA1LjI3NDY1IDE4LjQ2NzEgNS40MDUzNSAxOC4zOTgzTDEwLjE2MDMgMTUuODk4M0wxNC45MDQ1IDE4LjM5ODNMMTQuOTg3OCAxOC40MzY2QzE1LjEyNTQgMTguNDkwOCAxNS4yNzQ5IDE4LjUwNzQgMTUuNDIxIDE4LjQ4NDhDMTUuNTY3MSAxOC40NjIxIDE1LjcwNDUgMTguNDAxIDE1LjgxOTIgMTguMzA3N0MxNS45MzM5IDE4LjIxNDQgMTYuMDIxNiAxOC4wOTIzIDE2LjA3MzUgMTcuOTUzOEMxNi4xMjU0IDE3LjgxNTQgMTYuMTM5NiAxNy42NjU3IDE2LjExNDUgMTcuNTJMMTUuMjA1MyAxMi4yMjQxTDE5LjA1ODcgOC40NzQxNEwxOS4xMjM3IDguNDAzMzFDMTkuMjE2NSA4LjI4ODk1IDE5LjI3NzQgOC4xNTIwMiAxOS4zMDAxIDguMDA2NDdDMTkuMzIyOCA3Ljg2MDkyIDE5LjMwNjUgNy43MTE5NiAxOS4yNTI5IDcuNTc0NzVDMTkuMTk5MyA3LjQzNzU0IDE5LjExMDMgNy4zMTcgMTguOTk0OSA3LjIyNTRDMTguODc5NiA3LjEzMzggMTguNzQyIDcuMDc0NDIgMTguNTk2MiA3LjA1MzMxTDEzLjI3OTUgNi4yODE2NEwxMC45MDI4IDEuNDY0OTdDMTAuODM0MSAxLjMyNTQyIDEwLjcyNzYgMS4yMDc5IDEwLjU5NTUgMS4xMjU3M0MxMC40NjM0IDEuMDQzNTUgMTAuMzEwOSAxIDEwLjE1NTMgMUM5Ljk5OTc3IDEgOS44NDczIDEuMDQzNTUgOS43MTUxOSAxLjEyNTczQzkuNTgzMDggMS4yMDc5IDkuNDc2NjIgMS4zMjU0MiA5LjQwNzg1IDEuNDY0OTdMNy4wMzAzNSA2LjI4MTY0WiIgZmlsbD0iIzExNjdGQyIgc3Ryb2tlPSIjMTE2N0ZDIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=";
$starGap: toRem(5);
$starWidth: toRem(20);
$starHeight: toRem(20);

$starGapMob: toRem(4.55);
$starWidthMob: toRem(16);
$starHeightMob: toRem(16);

.rating {
	display: inline-block;
	// .rating__items
	&__items {
		display: inline-flex;
		align-items: flex-start;
		gap: $starGap;
		@media (max-width:$mobileSmall){
			gap: $starGapMob;
		}
		[data-rating="set"] & {
			@media (any-hover: hover) {
				&:hover {
					.rating__item {
						background: url($starActive) 0 0 / $starWidth no-repeat;
						.popup-reviews & {
							background: url($starActive) 0 0 / toRem(24) no-repeat;
						}
					}
				}
			}
		}
	}
	// .rating__item
	&__item {
		flex: 0 0 $starWidth;
		width: $starWidth;
		height: $starHeight;
		position: relative;
		background: url($star) 0 0 / $starWidth no-repeat;
		@media (min-width:$mobileSmall){
			transition: background 0.2s;
		}

		@media (max-width:$mobileSmall){
			flex: 0 0 $starWidthMob;
			width: $starWidthMob;
			height: $starHeightMob;
			position: relative;
			background: url($star) 0 0 / $starWidthMob no-repeat;
		}

		&--active {
			background: url($starActive) 0 0 / $starWidth no-repeat;

			@media (max-width:$mobileSmall){
				background: url($starActive) 0 0 / $starWidthMob no-repeat;
			}

		}
		span {
			position: absolute;
			top: 0;
			left: 0;
			width: 0%;
			height: $starHeight;
			background: url($starActive) 0 0 / $starWidth no-repeat;
			
			@media (max-width:$mobileSmall){
				height: $starHeightMob;
				background: url($starActive) 0 0 / $starWidthMob no-repeat;
			}
		}
		&:not(:last-child) {
			&::after {
				content: "";
				position: absolute;
				right: 0;
				top: 0;
				height: 100%;
				width: $starGap;
				transform: translateX(100%);
				[data-rating="set"] & {
					cursor: pointer;
				}
			}
		}
		[data-rating="set"] & {
			@media (any-hover: hover) {
				&:hover {
					~ .rating__item {
						background: url($star) 0 0 / $starWidth no-repeat;
						span {
							display: none;
						}
					}
				}
			}
		}
	}
	// .rating__input
	&__input {
		width: 100%;
		height: 100%;
		opacity: 0;
		display: block;
		[data-rating="set"] & {
			cursor: pointer;
		}
	}
}
